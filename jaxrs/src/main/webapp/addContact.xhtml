<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
   xmlns:ui="http://java.sun.com/jsf/facelets"
   xmlns:f="http://java.sun.com/jsf/core"
   xmlns:h="http://java.sun.com/jsf/html"
   xmlns:sell="http://java.sun.com/jsf/composite/sellmore"
   template="/WEB-INF/templates/default.xhtml">

   <ui:define name="metadata">
      <f:metadata>
         <f:viewParam name="customerId" value="#{selectedCustomerProducer.customerId}"/>
         <f:event type="preRenderView" listener="#{selectedCustomerProducer.lookup}"/>
      </f:metadata>
   </ui:define>

   <ui:define name="content">

      <p><h:graphicImage value="/resources/gfx/add-contact-tilt.gif" alt="Add Contact"/></p>

      <p><strong>Customer:</strong> #{selectedCustomer.name}</p>

      <h:form id="contactForm">
         <table class="form">
            <ui:remove><!--
            <tr>
               <th>Address</th>
               <td><h:inputText id="address" styleClass="text" value="#{contact.address}"/></td>
               <td><h:message for="address" errorClass="invalid"/></td>
            </tr>
            <tr>
               <th>City</th>
               <td><h:inputText id="city" styleClass="text" value="#{contact.city}"/></td>
               <td><h:message for="city" errorClass="invalid"/></td>
            </tr>
            <tr>
               <th>Phone</th>
               <td><h:inputText id="phone" styleClass="text" value="#{contact.phone}"/></td>
               <td><h:message for="phone" errorClass="invalid"/></td>
            </tr>
            --></ui:remove>
            <sell:rowInputContainer id="address">
               <h:inputText id="input" styleClass="text" value="#{contact.address}"/>
            </sell:rowInputContainer>
            <sell:rowInputContainer id="city">
               <h:inputText id="input" styleClass="text" value="#{contact.city}"/>
            </sell:rowInputContainer>
            <sell:rowInputContainer id="phone">
               <h:inputText id="input" styleClass="text" value="#{contact.phone}"/>
            </sell:rowInputContainer>
         </table>
         <p class="actions">
            <h:commandButton action="#{contactEditor.add}" value="Save">
               <!-- This should not be required!!! -->
               <f:param name="customerId" value="#{selectedCustomer.id}"/>
            </h:commandButton>
            <h:button outcome="/contacts.xhtml" value="Cancel" includeViewParams="true"/>
         </p>
      </h:form>

   </ui:define>

</ui:composition>
